<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>TM Helices Calculator</title>	

	</head>


<p> 
Witam,

Nazywam sie Michal Stepniewski. Skonczylem biofizyke i chemie na Uniwersytecie Jagiellonskim.
Moje zainteresowania to nauka i programowanie jednak ostatnio moj kontakt z uniwersytetem jest sporadyczny :)

Szukam mozliwosci ciaglego rozwoju swoich umiejetnosci i zainteresowan poprzez odpowiadanie na aktualne i adekwatne potrzeby malych grup badawczych zajmujacych sie bioinformatyka i modelowaniem molekularnym a w dalszej przyszlosci takze kolaboratywnego rozwijania malych modularnych narzedzie programistycznych open source, szczegolnie w jezyku python i frameworku django poprez system kontroli wersji bitbucket (git).

Pierwszy projekt stronki powstal wlasnie w tym celu.

Wszystkich zainteresowanych prosze przesylanie feedbacku i requestow na maila michalstepniewski@gmail.com

Autorem pomys≈Çu badawczego jest Dr Henri Xhaard z Uniwersytetu w Helsinkach.
 
 </p>


<div class="fieldWrapper">

<form action="/mail/" method="post">
    <label for="mail">Post Feature Request: </label>
    <input id="your_name" type="text" name="your_name" value="{{ current_name }}">
    <input type="submit" value="OK">

</form>

</div>

<form action="/your-name/" method="post">
    <label for="your_name">Membrane Limit (lower): </label>
    <input id="your_name" type="text" name="your_name" value="{{ current_name }}">
    <input type="submit" value="OK">
</form>

<div class="fieldWrapper">

<form action="/your-name/" method="post">
    <label for="your_name">Method (PCA): </label>
    <input id="your_name" type="text" name="your_name" value="{{ current_name }}">
    <input type="submit" value="OK">
</form>


<form action="/your-name/" method="post">
    <label for="your_name">Method (MC): </label>
    <input id="your_name" type="text" name="your_name" value="{{ current_name }}">
    <input type="submit" value="OK">
</form>

</div>

	<body>

<script type="text/javascript" src="/media/jquery-1.7.min.js"></script>

		<!-- List of uploaded documents -->
		{% if tmproteins %}
			<ul>
                        {% for TMProtein in tmproteins %}
                                <h1> {{ TMProtein.tmproteinfile.name }} </h1> 



                                {% load static %}
                                {% static "" as baseUrl %}
                                <img src="{{ baseUrl }}/myapp/static/Protein1.png" alt="My image"/>
                                <img src="{{ baseUrl }}/myapp/static/Protein1.png" alt="My image"/>

                                {% if TMProtein.tmhelixmodel_set.all %}
                                    <ul>
                                    <p> Transmembrane Helices: </p>
                                    {% for tmhelix in TMProtein.tmhelixmodel_set.all %}

                                        <li><a href="{% url 'detail' tmhelix.id %}">TM{{ tmhelix.TMHelix_ID }}</a></li>

                                    {% endfor %}
                                    </ul>
                                {% else %}
                                    <p>No TMs are available.</p>
                                {% endif %}

                                {% if TMProtein.tmhelixpair_set.all %}
                                    <ul>
                                    <p> Pairs of Transmembrane Helices: </p>
                                    <p> Consecutive: </p>
                                    {% for tmhelixpair in TMProtein.tmhelixpair_set.all %}

                                        <li><a href="{% url 'pair' tmhelixpair.id %}">TMs: {% for tmhelix in tmhelixpair.tmhelixmodel_set.all %} {{ tmhelix.TMHelix_ID }} {% endfor %} </a></li> 

                                    {% endfor %}
                                    </ul>
                                {% endif %}

                                {% if TMProtein.tmhelixtriplet_set.all %}
                                    <ul>
                                    <p> Triplets of Transmembrane Helices: </p>
                                    <p> Consecutive: </p>
                                    {% for tmhelixtriplet in TMProtein.tmhelixtriplet_set.all %}

                                        <li><a href="{% url 'triplet' tmhelixtriplet.id %}">TMs: {% for tmhelix in tmhelixtriplet.tmhelixmodel_set.all %} {{ tmhelix.TMHelix_ID }} {% endfor %} </a></li>

                                    {% endfor %}
                                    </ul>
                                {% endif %}
                                
                                



			{% endfor %}
                        <li><a href="{% url 'viewer' %}">View</a></li>
                        <li><a href="{% url 'single_helix_stats' %}">SingleHelixStats (if calculated)</a></li>
                        <li><a href="{% url 'helix_pair_stats' %}">HelixPairStats (if calculated)</a></li>
                        <li><a href="{% url 'helix_triplet_stats' %}">HelixTripletStats (if calculated)</a></li>
                        <li><a href="{% url 'embedding' %}">View2</a></li>
			</ul>
		{% else %}
			<p>No TM Protein PDB files loaded</p>
		{% endif %}
                <!-- dodac tu link do viewera -->
		<!-- Upload form. Note enctype attribute! -->
		<form action="{% url "list" %}" method="post" enctype="multipart/form-data">
			{% csrf_token %}
			<p>{{ form.non_field_errors }}</p>
			<p>{{ form.tmproteinfile.label_tag }} {{ form.tmproteinfile.help_text }}</p>
			<p>
				{{ form.tmproteinfile.errors }}
				{{ form.tmproteinfile }}
			</p>
			<p><input type="submit" value="Upload" /></p>
			<p><input type="submit" name="Clear" value="Clear" /></p>
			<p><input type="submit" name="CalculateSingleHelixStats" value="CalculateSingleHelixStats" /></p>
			<p><input type="submit" name="CalculateHelixPairStats" value="CalculateHelixPairStats" /></p>
			<p><input type="submit" name="CalculateHelixTripletStats" value="CalculateHelixTripletStats" /></p>
			<p><input type="submit" name="ExtractHelixPairs" value="ExtractHelixPairs" /></p>
			<p><input type="submit" name="ExtractHelixTriplets" value="ExtractHelixTriplets" /></p>
		</form>

<div id="glmol02" style="width: 300px; height: 200px; background-color: black;"></div> <textarea id="glmol02_src" style="display: none;">

HETATM    1  C                  -3.450  -0.135   0.363
HETATM    2  C                  -2.116  -0.033  -0.019
HETATM    3  C                  -1.805   0.087  -1.347
HETATM    4  C                  -2.806   0.106  -2.304
HETATM    5  C                  -4.116   0.005  -1.917
HETATM    6  C                  -4.463  -0.118  -0.575
HETATM    7  I                  -3.911  -0.321   2.435
HETATM    8  H                  -1.346  -0.049   0.721
HETATM    9  O                  -0.495   0.197  -1.832
HETATM   10  H                  -2.532   0.201  -3.333
HETATM   11  H                  -4.910   0.017  -2.633
HETATM   12  O                  -5.799  -0.212  -0.300
HETATM   13  C                   0.605   0.190  -1.001
HETATM   14  C                   2.873   0.179   0.629
HETATM   15  C                   2.242   1.367   0.305
HETATM   16  C                   1.117   1.375  -0.504
HETATM   17  C                   1.244  -1.002  -0.684
HETATM   18  C                   2.366  -1.011   0.121
HETATM   19  C                   4.099   0.189   1.522
HETATM   20  H                   2.619   2.294   0.684
HETATM   21  I                   0.214   3.227  -1.019
HETATM   22  I                   0.527  -2.833  -1.490
HETATM   23  H                   2.873  -1.924   0.340
HETATM   24  H                  -6.001  -0.299   0.639
HETATM   25  H                   3.926  -0.412   2.407
HETATM   26  H                   4.290   1.203   1.851
HETATM   27  C                   5.361  -0.378   0.815
HETATM   28  C                   6.589   0.047   1.611
HETATM   29  H                   5.421   0.038  -0.183
HETATM   30  N                   5.273  -1.832   0.729
HETATM   31  O                   6.865   1.378   1.588
HETATM   32  O                   7.254  -0.704   2.264
HETATM   33  H                   6.356   1.896   0.955
HETATM   34  H                   5.561  -2.266   1.590
HETATM   35  H                   5.779  -2.220  -0.046
CONECT    1    2    6    7
CONECT    2    1    3    8
CONECT    3    2    4    9
CONECT    4    3    5   10
CONECT    5    4    6   11
CONECT    6    1    5   12
CONECT    7    1
CONECT    8    2
CONECT    9    3   13
CONECT   10    4
CONECT   11    5
CONECT   12    6   24
CONECT   13    9   16   17
CONECT   14   15   18   19
CONECT   15   14   16   20
CONECT   16   13   15   21
CONECT   17   13   18   22
CONECT   18   14   17   23
CONECT   19   14   25   26   27
CONECT   20   15
CONECT   21   16
CONECT   22   17
CONECT   23   18
CONECT   24   12
CONECT   25   19
CONECT   26   19
CONECT   27   19   28   29   30
CONECT   28   27   31   32
CONECT   29   27
CONECT   30   27   34   35
CONECT   31   28   33
CONECT   32   28
CONECT   33   31
CONECT   34   30
CONECT   35   30
END
</textarea>

{% load static %}
{% static "" as baseUrl %}

<script src="{{ baseUrl }}/myapp/static/js/jquery-1.7.min.js"></script>
<script src="{{ baseUrl }}/myapp/static/js/Three49custom.js"></script>
<script type="text/javascript" src="{{ baseUrl }}/myapp/static/js/GLmol.js"></script>
<script type="text/javascript">

// Small molecules can be embedded in the page

var glmol02 = new GLmol('glmol02');

// Proteins can also be embedded in the page but 
//  you might want to keep it separate.

var glmol01 = new GLmol('glmol01', true);
glmol01.defineRepresentation = function() {
   var all = this.getAllAtoms();
   var hetatm = this.removeSolvents(this.getHetatms(all));
   this.colorByAtom(all, {});
   this.colorByChain(all);
   var asu = new THREE.Object3D();
   
   this.drawBondsAsStick(asu, hetatm, this.cylinderRadius, this.cylinderRadius);
   this.drawBondsAsStick(asu, this.getResiduesById(this.getSidechains(this.getChain(all, ['A'])), [58, 87]), this.cylinderRadius, this.cylinderRadius);
   this.drawBondsAsStick(asu, this.getResiduesById(this.getSidechains(this.getChain(all, ['B'])), [63, 92]), this.cylinderRadius, this.cylinderRadius);
   this.drawCartoon(asu, all, this.curveWidth, this.thickness);

   this.drawSymmetryMates2(this.modelGroup, asu, this.protein.biomtMatrices);
   this.modelGroup.add(asu);
};

$.get("2DHB.pdb", function(ret) {
$("#glmol01_src").val(ret);
glmol01.loadMolecule();
});
</script>

		
	</body>

</html> 


